<html>
    <head>

    </head>
    <body>
        <div id="area"></div>
        <script src="../src/gumbyJS.js"></script>
        <script>
            var data = [
                { name : "joe", children: [ { name: "alice" } ] },
                { name : "josh", children: [ { name: "mike" }, { name: "ted" } ] },
                { name : "alvon", children: [ { name: "amanda" }, { name: "fred" } ] },
                { name : "marvin", children: [ { name: "peter" } ] }
            ];
			
			// xiny test
            [
                "[*].name",
                "[1].children[*].name",
                "[*].children[1].name",
                "0.children.0.name",
                "[1].children[1].name"
            ].forEach(s => {
                console.info(s + " =", gumby.xiny(s, data));
            });

			// data
			var dataOptions = {
                sort: [
                    { "field": "name", "direction": "asc" },
                    { "field": "children[1].name", "direction": "desc" },
                ],
                pager: { page: 0, size: 25 },
                filter: {
                    filterOp: "OR",
                    rules: [
                        {
                            field: "children[0].name",
                            op: "in",
                            value: "a"
                        },
                        {
                            field: "children[0].name",
                            op: "in",
                            value: "e"
                        }
                    ]
                }
            };
			data = gumby.data.execute(data, dataOptions);
			console.info(JSON.stringify(data));

			// template
			var template = "<table>" + 
				"<thead><tr><th>Name</th><th>Children</th></tr></thead>" + 
				"<tbody>{{data[]}}<tr><td>{{name}}</td><td>{{children[]}}{{name}},{{/children[]}}</td></tr>{{/data[]}}</tbody>" + 
				"</table>";
            var templateFn = gumby.template.generateFn(template);
            document.querySelector("#area").innerHTML = templateFn({ "data" : data });
            debugger;
        </script>
    </body>
</html>